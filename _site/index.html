<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Homepage - ZengHui Bao's blog</title>
    <meta name="description" content="zenghui bao's program world.">
    <meta name="author" content="zenghui bao">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/static/favicon.ico" rel="shortcut icon">
    <link href="/static/css/bootstrap.css" rel="stylesheet" type="text/css" media="all">
    <link href="/static/css/font-awesome.css" rel="stylesheet" type="text/css" media="all">
    <link href="/static/google-code-prettify/prettify.css" rel="stylesheet" type="text/css" media="all">
    <link href="/static/css/application.css" rel="stylesheet" type="text/css" media="all">
    <script src="/static/js/jquery.js" type="text/javascript"></script>
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body>
     <div class="page-container">
     <div class="page-heading">
         <div class="page-brand">
             <h1><a href="/">Zenghui Bao's World</a></h1>
			 <h3><font size="2">about life, programming, misc thoughts.</font></h3>
         </div>
         <div class="page-navbar">
             <div class="page-navbar-container">
                 <ul class="page-nav">
                     <li><a href="/">Home</a></li>
                     <li><a href="/archive/index.html">Archive</a></li>
                     <li><a href="/about/index.html">About</a></li>
                 </ul>
             </div>
         </div>
     </div>
     <div class="page-article">
         
<div class="page-content">
    <div class="post-heading">
        <a href="/2016-02/zookeeper-cpp-client/">实现了一个Zookeeper C++客户端</a>
    </div>
    <div class="post-meta">
        <span>
            Posted on:
            <a href="/2016-02/zookeeper-cpp-client/"><span class='month'>Feb</span> <span class='day'>22</span> <span class='year'>2016</span></a>
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Categories:
            
            <a href="/categories/index.html#zookeeper-ref">zookeeper</a>
            
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Tags:
            
            <a href="/tags/index.html#zookeeper-ref">zookeeper</a>
            
        <span>
    </div>
    <div class="post-entry">
        <p>最近学习了下开源的分布式协调系统zookeeper，在学习使用的过程中，感觉原生zookeeper c api比较难用、不方便，遂花时间实现了一个<a href="https://github.com/baozh/zookeeper_cpp_client">C++客户端</a>，这篇文章主要记述实现过程中的一些思考。</p>


    </div>
    <div class="post-footer">
        <div class="read-more">
            <a href="/2016-02/zookeeper-cpp-client/">Read on(阅读全文) &rarr;</a>
        </div>
    </div>
</div>

<div class="page-content">
    <div class="post-heading">
        <a href="/2016-01/learn-java-experience/">Java初学感想</a>
    </div>
    <div class="post-meta">
        <span>
            Posted on:
            <a href="/2016-01/learn-java-experience/"><span class='month'>Jan</span> <span class='day'>30</span> <span class='year'>2016</span></a>
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Categories:
            
            <a href="/categories/index.html#Java-ref">Java</a>
            
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Tags:
            
            <a href="/tags/index.html#Java-ref">Java</a>
            
        <span>
    </div>
    <div class="post-entry">
        <p>最近花了一个月时间学习了Java，看了一些书，熟悉了一些工具，写了一些代码，算入门了。由于之前一直做C/C++开发，在学习Java的时候总会不自觉地思考 与C++有什么异同，这篇文章算是我的思考笔记吧。</p>


    </div>
    <div class="post-footer">
        <div class="read-more">
            <a href="/2016-01/learn-java-experience/">Read on(阅读全文) &rarr;</a>
        </div>
    </div>
</div>

<div class="page-content">
    <div class="post-heading">
        <a href="/2015-12/tencent-massive-service-discipline/">《解密腾讯海量服务之道》讲座笔记</a>
    </div>
    <div class="post-meta">
        <span>
            Posted on:
            <a href="/2015-12/tencent-massive-service-discipline/"><span class='month'>Dec</span> <span class='day'>30</span> <span class='year'>2015</span></a>
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Categories:
            
            <a href="/categories/index.html#Distributed_system-ref">Distributed_system</a>
            
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Tags:
            
            <a href="/tags/index.html#tencent-ref">tencent</a>
            
        <span>
    </div>
    <div class="post-entry">
        <p>一直对腾讯做产品的能力比较敬佩的，我们组做消息推送系统，而腾讯的信鸽就是我们学习的榜样。京东很多做产品的思想是跟腾讯学的，而京东很多同事也从腾讯过来的(京东合并了腾讯电商)，耳濡目染学到很多东西。</p>

<p>前几天前腾讯的同事给我们分享了《解密腾讯海量服务之道》，讲了几个腾讯开发产品的经验原则，比较受益，遂总结下。</p>


    </div>
    <div class="post-footer">
        <div class="read-more">
            <a href="/2015-12/tencent-massive-service-discipline/">Read on(阅读全文) &rarr;</a>
        </div>
    </div>
</div>

<div class="page-content">
    <div class="post-heading">
        <a href="/2015-12/distributed-system-fundamental-sec/">分布式存储 理论与实践 初探 (二)</a>
    </div>
    <div class="post-meta">
        <span>
            Posted on:
            <a href="/2015-12/distributed-system-fundamental-sec/"><span class='month'>Dec</span> <span class='day'>29</span> <span class='year'>2015</span></a>
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Categories:
            
            <a href="/categories/index.html#Distributed_system-ref">Distributed_system</a>
            
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Tags:
            
        <span>
    </div>
    <div class="post-entry">
        <h2 id="section">数据分布</h2>

<p>分布式存储系统需要将数据分布到多个节点，并在多个节点之间实现负载均衡。常见的数据分布的方式有两种：一种是哈希分布，如一致性哈希，典型的系统是Amazon Dynamo系统；另一种是顺序分布，即将表格上的数据按主键排序，并切分成多块数据，每个数据存到不同的节点中，典型的系统是Google Bigtable, Taobao Oceanbase。</p>


    </div>
    <div class="post-footer">
        <div class="read-more">
            <a href="/2015-12/distributed-system-fundamental-sec/">Read on(阅读全文) &rarr;</a>
        </div>
    </div>
</div>

<div class="page-content">
    <div class="post-heading">
        <a href="/2015-12/fflush-fsync-difference/">[转] fflush与fsync的区别</a>
    </div>
    <div class="post-meta">
        <span>
            Posted on:
            <a href="/2015-12/fflush-fsync-difference/"><span class='month'>Dec</span> <span class='day'>28</span> <span class='year'>2015</span></a>
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Categories:
            
            <a href="/categories/index.html#Software-ref">Software</a>
            
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Tags:
            
        <span>
    </div>
    <div class="post-entry">
        <p>转自: http://blog.xiaoheshang.info/?p=274</p>

<p>1 来源</p>

<p>fflush为C标准库函数, fsync为系统函数。</p>


    </div>
    <div class="post-footer">
        <div class="read-more">
            <a href="/2015-12/fflush-fsync-difference/">Read on(阅读全文) &rarr;</a>
        </div>
    </div>
</div>

<div class="page-content">
    <div class="post-heading">
        <a href="/2015-12/distributed-system-fundamental/">分布式存储 理论与实践 初探 (一)</a>
    </div>
    <div class="post-meta">
        <span>
            Posted on:
            <a href="/2015-12/distributed-system-fundamental/"><span class='month'>Dec</span> <span class='day'>28</span> <span class='year'>2015</span></a>
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Categories:
            
            <a href="/categories/index.html#Distributed_system-ref">Distributed_system</a>
            
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Tags:
            
        <span>
    </div>
    <div class="post-entry">
        <h2 id="section">硬件基础</h2>
<p>分布式存储系统是运行在通用计算机硬件体系结构上的底层系统，熟悉各种硬件的性能，能帮助我们更好的调整架构，最大限度地发挥硬件的价值。</p>


    </div>
    <div class="post-footer">
        <div class="read-more">
            <a href="/2015-12/distributed-system-fundamental/">Read on(阅读全文) &rarr;</a>
        </div>
    </div>
</div>

<div class="page-content">
    <div class="post-heading">
        <a href="/2015-12/amazon-dynamo/">Amazon Dynamo 架构分析</a>
    </div>
    <div class="post-meta">
        <span>
            Posted on:
            <a href="/2015-12/amazon-dynamo/"><span class='month'>Dec</span> <span class='day'>27</span> <span class='year'>2015</span></a>
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Categories:
            
            <a href="/categories/index.html#Distributed_system-ref">Distributed_system</a>
            
            <a href="/categories/index.html#Dynamo-ref">Dynamo</a>
            
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Tags:
            
            <a href="/tags/index.html#Dynamo-ref">Dynamo</a>
            
        <span>
    </div>
    <div class="post-entry">
        <p>Dynamo是Amazon开发的分布式键值存储系统，它采用去中心化、松散耦合，由数百个服务组成的面向服务架构，只提供简单的键/值(key/value)方式的数据访问接口，不支持复杂的查询。最初用于支持购物车应用、S3服务，Facebook对照其论文实现了一个开源的分布式数据库Cassandra。</p>


    </div>
    <div class="post-footer">
        <div class="read-more">
            <a href="/2015-12/amazon-dynamo/">Read on(阅读全文) &rarr;</a>
        </div>
    </div>
</div>

<div class="page-content">
    <div class="post-heading">
        <a href="/2015-12/stl-vector-problem/">muduo中buffer的一个问题</a>
    </div>
    <div class="post-meta">
        <span>
            Posted on:
            <a href="/2015-12/stl-vector-problem/"><span class='month'>Dec</span> <span class='day'>05</span> <span class='year'>2015</span></a>
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Categories:
            
            <a href="/categories/index.html#Software_development-ref">Software_development</a>
            
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Tags:
            
        <span>
    </div>
    <div class="post-entry">
        <p>今天在压测系统性能时，遇到了一个现象：当短时间发送大量消息(每秒16万条消息)时，内存占用过多(增长到5.4G)，而且之后没有再释放。排查了一下这个问题，找到原因是：muduo中TcpConnection的发送缓冲区增长得太快，而缓冲区是自动增长的，没有自动缩容的功能，导致缓冲区占用的空间越来越大。</p>


    </div>
    <div class="post-footer">
        <div class="read-more">
            <a href="/2015-12/stl-vector-problem/">Read on(阅读全文) &rarr;</a>
        </div>
    </div>
</div>


<div class="page-pagination">
    <ul class="pagination">
    
    
    
    
        <li><a href="/">First</a></li>
    
    
    
     
        
        <li><a href="/" class="active">1</a></li>
        
    
    
    
    
        <li><a href="/page2">2</a></li>
    
    
    
    
    
        <li><a href="/page3">3</a></li>
    
    
    
    
    
        <li><a href="/page4">4</a></li>
    
    
    
    
    
        <li><a class="next" href="/page2">&rarr;</a></li>
    
    
        <li><a href="/page4">Last</a></li>
    
    </ul>
</div>


     </div>
     <div class="page-footer">
         <span>
             Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a> 
             | Hosted by <a href="http://github.com">Github.com</a> 
         </span>
     </div>
     </div>
     <script src="/static/js/bootstrap.js" type="text/javascript"></script>
     <script src="/static/google-code-prettify/prettify.js" type="text/javascript"></script>
     <script type="text/javascript">
        $(document).ready(function() {
            $('pre').addClass('prettyprint').attr('style', 'overflow:auto');
            prettyPrint();
        });
     </script>
     <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34850864-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>


</body>
</html>

