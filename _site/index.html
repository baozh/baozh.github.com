<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Homepage - ZengHui Bao's blog</title>
    <meta name="description" content="zenghui bao's program world.">
    <meta name="author" content="zenghui bao">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/static/favicon.ico" rel="shortcut icon">
    <link href="/static/css/bootstrap.css" rel="stylesheet" type="text/css" media="all">
    <link href="/static/css/font-awesome.css" rel="stylesheet" type="text/css" media="all">
    <link href="/static/google-code-prettify/prettify.css" rel="stylesheet" type="text/css" media="all">
    <link href="/static/css/application.css" rel="stylesheet" type="text/css" media="all">
    <script src="/static/js/jquery.js" type="text/javascript"></script>
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body>
     <div class="page-container">
     <div class="page-heading">
         <div class="page-brand">
             <h1><a href="/">Zenghui Bao's World</a></h1>
			 <h3><font size="2">about life, programming, misc thoughts.</font></h3>
         </div>
         <div class="page-navbar">
             <div class="page-navbar-container">
                 <ul class="page-nav">
                     <li><a href="/">Home</a></li>
                     <li><a href="/archive/index.html">Archive</a></li>
                     <li><a href="/about/index.html">About</a></li>
                 </ul>
             </div>
         </div>
     </div>
     <div class="page-article">
         
<div class="page-content">
    <div class="post-heading">
        <a href="/2018-03/go-context/">Go Context的踩坑经历</a>
    </div>
    <div class="post-meta">
        <span>
            Posted on:
            <a href="/2018-03/go-context/"><span class='month'>Mar</span> <span class='day'>03</span> <span class='year'>2018</span></a>
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Categories:
            
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Tags:
            
        <span>
    </div>
    <div class="post-entry">
        <h2 id="0-引言">0 引言</h2>

<p><code class="highlighter-rouge">context</code>是Go中广泛使用的程序包，由Google官方开发，在1.7版本引入。它用来简化在多个go routine传递上下文数据、(手动/超时)中止routine树等操作，比如，官方http包使用context传递请求的上下文数据，gRpc使用context来终止某个请求产生的routine树。由于它使用简单，现在基本变成了编写go公共库的通用规范。笔者在使用context上有一些经验，遂分享下。</p>

<p>本文主要谈谈以下几个方面的内容：</p>

<ol>
  <li>context的使用。</li>
  <li>context实现原理，哪些是需要注意的地方。</li>
  <li>在实践中遇到的问题，分析问题产生的原因。</li>
</ol>


    </div>
    <div class="post-footer">
        <div class="read-more">
            <a href="/2018-03/go-context/">Read on(阅读全文) &rarr;</a>
        </div>
    </div>
</div>

<div class="page-content">
    <div class="post-heading">
        <a href="/2016-03/paxos-learning/">Paxos协议 学习小结</a>
    </div>
    <div class="post-meta">
        <span>
            Posted on:
            <a href="/2016-03/paxos-learning/"><span class='month'>Mar</span> <span class='day'>06</span> <span class='year'>2016</span></a>
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Categories:
            
            <a href="/categories/index.html#paxos-ref">paxos</a>
            
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Tags:
            
            <a href="/tags/index.html#zookeeper-ref">zookeeper</a>
            
            <a href="/tags/index.html#paxos-ref">paxos</a>
            
        <span>
    </div>
    <div class="post-entry">
        <p>一直对Paxos协议比较感兴趣，之前对这个算法 有耳闻 但只是了解皮毛，最近在学Zookeeper，趁着这股新鲜劲，就花时间研究了下Zookeeper的选举算法实现，再重新学习了Paxos算法，这篇文章算是我的学习总结吧。</p>


    </div>
    <div class="post-footer">
        <div class="read-more">
            <a href="/2016-03/paxos-learning/">Read on(阅读全文) &rarr;</a>
        </div>
    </div>
</div>

<div class="page-content">
    <div class="post-heading">
        <a href="/2016-02/zookeeper-cpp-client/">实现了一个Zookeeper C++客户端</a>
    </div>
    <div class="post-meta">
        <span>
            Posted on:
            <a href="/2016-02/zookeeper-cpp-client/"><span class='month'>Feb</span> <span class='day'>22</span> <span class='year'>2016</span></a>
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Categories:
            
            <a href="/categories/index.html#zookeeper-ref">zookeeper</a>
            
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Tags:
            
            <a href="/tags/index.html#zookeeper-ref">zookeeper</a>
            
        <span>
    </div>
    <div class="post-entry">
        <p>最近学习了下开源的分布式协调系统zookeeper，在学习使用的过程中，感觉原生zookeeper c api比较难用、不方便，遂花时间实现了一个<a href="https://github.com/baozh/zookeeper_cpp_client">C++客户端</a>，这篇文章主要记述实现过程中的一些思考。</p>


    </div>
    <div class="post-footer">
        <div class="read-more">
            <a href="/2016-02/zookeeper-cpp-client/">Read on(阅读全文) &rarr;</a>
        </div>
    </div>
</div>

<div class="page-content">
    <div class="post-heading">
        <a href="/2016-01/learn-java-experience/">Java初学感想</a>
    </div>
    <div class="post-meta">
        <span>
            Posted on:
            <a href="/2016-01/learn-java-experience/"><span class='month'>Jan</span> <span class='day'>30</span> <span class='year'>2016</span></a>
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Categories:
            
            <a href="/categories/index.html#Java-ref">Java</a>
            
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Tags:
            
            <a href="/tags/index.html#Java-ref">Java</a>
            
        <span>
    </div>
    <div class="post-entry">
        <p>最近花了一个月时间学习了Java，看了一些书，熟悉了一些工具，写了一些代码，算入门了。由于之前一直做C/C++开发，在学习Java的时候总会不自觉地思考 与C++有什么异同，这篇文章算是我的思考笔记吧。</p>


    </div>
    <div class="post-footer">
        <div class="read-more">
            <a href="/2016-01/learn-java-experience/">Read on(阅读全文) &rarr;</a>
        </div>
    </div>
</div>

<div class="page-content">
    <div class="post-heading">
        <a href="/2015-12/tencent-massive-service-discipline/">《解密腾讯海量服务之道》讲座笔记</a>
    </div>
    <div class="post-meta">
        <span>
            Posted on:
            <a href="/2015-12/tencent-massive-service-discipline/"><span class='month'>Dec</span> <span class='day'>30</span> <span class='year'>2015</span></a>
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Categories:
            
            <a href="/categories/index.html#Distributed_system-ref">Distributed_system</a>
            
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Tags:
            
            <a href="/tags/index.html#tencent-ref">tencent</a>
            
        <span>
    </div>
    <div class="post-entry">
        <p>一直对腾讯做产品的能力比较敬佩的，我们组做消息推送系统，而腾讯的信鸽就是我们学习的榜样。京东很多做产品的思想是跟腾讯学的，而京东很多同事也从腾讯过来的(京东合并了腾讯电商)，耳濡目染学到很多东西。</p>

<p>前几天前腾讯的同事给我们分享了《解密腾讯海量服务之道》，讲了几个腾讯开发产品的经验原则，比较受益，遂总结下。</p>


    </div>
    <div class="post-footer">
        <div class="read-more">
            <a href="/2015-12/tencent-massive-service-discipline/">Read on(阅读全文) &rarr;</a>
        </div>
    </div>
</div>

<div class="page-content">
    <div class="post-heading">
        <a href="/2015-12/distributed-system-fundamental-sec/">分布式存储 理论与实践 初探 (二)</a>
    </div>
    <div class="post-meta">
        <span>
            Posted on:
            <a href="/2015-12/distributed-system-fundamental-sec/"><span class='month'>Dec</span> <span class='day'>29</span> <span class='year'>2015</span></a>
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Categories:
            
            <a href="/categories/index.html#Distributed_system-ref">Distributed_system</a>
            
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Tags:
            
        <span>
    </div>
    <div class="post-entry">
        <h2 id="数据分布">数据分布</h2>

<p>分布式存储系统需要将数据分布到多个节点，并在多个节点之间实现负载均衡。常见的数据分布的方式有两种：一种是哈希分布，如一致性哈希，典型的系统是Amazon Dynamo系统；另一种是顺序分布，即将表格上的数据按主键排序，并切分成多块数据，每个数据存到不同的节点中，典型的系统是Google Bigtable, Taobao Oceanbase。</p>


    </div>
    <div class="post-footer">
        <div class="read-more">
            <a href="/2015-12/distributed-system-fundamental-sec/">Read on(阅读全文) &rarr;</a>
        </div>
    </div>
</div>

<div class="page-content">
    <div class="post-heading">
        <a href="/2015-12/fflush-fsync-difference/">[转] fflush与fsync的区别</a>
    </div>
    <div class="post-meta">
        <span>
            Posted on:
            <a href="/2015-12/fflush-fsync-difference/"><span class='month'>Dec</span> <span class='day'>28</span> <span class='year'>2015</span></a>
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Categories:
            
            <a href="/categories/index.html#Software-ref">Software</a>
            
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Tags:
            
        <span>
    </div>
    <div class="post-entry">
        <p>转自: http://blog.xiaoheshang.info/?p=274</p>

<p>1 来源</p>

<p>fflush为C标准库函数, fsync为系统函数。</p>


    </div>
    <div class="post-footer">
        <div class="read-more">
            <a href="/2015-12/fflush-fsync-difference/">Read on(阅读全文) &rarr;</a>
        </div>
    </div>
</div>

<div class="page-content">
    <div class="post-heading">
        <a href="/2015-12/distributed-system-fundamental/">分布式存储 理论与实践 初探 (一)</a>
    </div>
    <div class="post-meta">
        <span>
            Posted on:
            <a href="/2015-12/distributed-system-fundamental/"><span class='month'>Dec</span> <span class='day'>28</span> <span class='year'>2015</span></a>
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Categories:
            
            <a href="/categories/index.html#Distributed_system-ref">Distributed_system</a>
            
        </span>
        <span><i class="fa fa-ellipsis-v"></i></span>
        <span>
            Tags:
            
        <span>
    </div>
    <div class="post-entry">
        <h2 id="硬件基础">硬件基础</h2>
<p>分布式存储系统是运行在通用计算机硬件体系结构上的底层系统，熟悉各种硬件的性能，能帮助我们更好的调整架构，最大限度地发挥硬件的价值。</p>


    </div>
    <div class="post-footer">
        <div class="read-more">
            <a href="/2015-12/distributed-system-fundamental/">Read on(阅读全文) &rarr;</a>
        </div>
    </div>
</div>


<div class="page-pagination">
    <ul class="pagination">
    
    
    
    
        <li><a href="/">First</a></li>
    
    
    
     
        
        <li><a href="/" class="active">1</a></li>
        
    
    
    
    
        <li><a href="/page2">2</a></li>
    
    
    
    
    
        <li><a href="/page3">3</a></li>
    
    
    
    
    
        <li><a href="/page4">4</a></li>
    
    
    
    
    
        <li><a class="next" href="/page2">&rarr;</a></li>
    
    
        <li><a href="/page4">Last</a></li>
    
    </ul>
</div>


     </div>
     <div class="page-footer">
         <span>
             Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a> 
             | Hosted by <a href="http://github.com">Github.com</a> 
         </span>
     </div>
     </div>
     <script src="/static/js/bootstrap.js" type="text/javascript"></script>
     <script src="/static/google-code-prettify/prettify.js" type="text/javascript"></script>
     <script type="text/javascript">
        $(document).ready(function() {
            $('pre').addClass('prettyprint').attr('style', 'overflow:auto');
            prettyPrint();
        });
     </script>
     <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34850864-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>


</body>
</html>

